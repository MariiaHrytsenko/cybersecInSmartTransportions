<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cybersecurity Dashboard</title>

  <!-- Fonts and Base Styles -->
  <link rel="stylesheet" href="assets/css/style.css" />
  <link href="https://unpkg.com/vis-timeline/styles/vis-timeline-graph2d.min.css" rel="stylesheet" />
  <style>
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f7f9fc;
      color: #333;
      margin: 0;
      padding: 0;
      line-height: 1.6;
    }

    section {
      padding: 40px 20px;
      border-bottom: 1px solid #ddd;
    }

    h2, h3 {
      color: #2c3e50;
      border-left: 5px solid #3498db;
      padding-left: 15px;
      margin-bottom: 20px;
    }

    .section-title {
      font-size: 1.3em;
      margin-bottom: 20px;
    }

    #site-structure-network,
    #category-network,
    #timeline {
      height: 300px;
      border: 1px solid #ccc;
      background: #fff;
      border-radius: 6px;
      padding: 10px;
    }

    #category-info,
    #timeline-info {
      margin-top: 20px;
      padding: 15px;
      background: #ffffff;
      border: 1px solid #e1e4e8;
      border-radius: 5px;
    }

    .vis-network .vis-node {
      font-size: 14px !important;
    }
  </style>
</head>

<body>

  <section id="header">
    <h2>1. Site Structure Overview</h2>
    <div id="site-structure-network"></div>
  </section>

  <section id="system-categories">
    <h2>2. System Categories (IT, OT, CT)</h2>
    <div id="category-network"></div>
    <div id="category-info"><em>Click a node to see more info here.</em></div>
  </section>

  <section id="attacks">
  <h3 class="section-title">Attack Chain Visualizations</h3>

     <!-- Phishing Attack -->
        <div class="attack-visual" id="attack-it">
            <h4>🎯 QR Phishing Attack – Deutsche Bahn (2022)</h4>
            <div class="chain">
                <span class="node"><img src="./assets/images/train.png" alt="Train" class="icon-img" /></span>
                <span class="arrow">→</span>
                <span class="node"><img src="./assets/images/qr-real.png" alt="QR Code" class="qr-img" /></span>
                <span class="arrow">→</span>
                <span class="node">🌐 Phishing Website</span>
                <span class="arrow">→</span>
                <span class="node">💳 Data Theft</span>
            </div>

            <div class="phishing-demo">
                <div class="qr-code-container">
                    <img src="./assets/images/qr.png" alt="Phishing QR Code" class="qr-code" />
                    <div class="scanner-line"></div>
                </div>

                <div class="login-form">
                    <label>Name: <span class="masked-input">** *******</span></label><br />
                    <label>Document No: <span class="masked-input">** ****</span></label><br />
                    <label>Email: <span class="masked-input">****@***.com</span></label><br />
                </div>

                <div class="data-stolen-msg" style="display:none;">
                    <strong>⚠️ Data Stolen!</strong>
                </div>
            </div>

            <button onclick="runPhishingDemo(
                document.getElementById('attack-it'),
                Array.from(document.querySelectorAll('#attack-it .chain .node')),
                Array.from(document.querySelectorAll('#attack-it .chain .arrow')),
                document.querySelector('#attack-it .comment-box'),
                document.querySelector('#attack-it .full-comment'),
                this
            )">Start Attack</button>

            <div class="comment-box"></div>
            <div id="full-comment-attack-it" class="full-comment"></div>
        </div>

        <!-- Colonial Pipeline Attack Demo -->
        <div class="attack-visual" id="attack-pipeline">
            <h4>🛢️ Colonial Pipeline – Ransomware Attack (2021)</h4>
            <div class="chain">
                <span class="node"><img src="./assets/images/vpn-unlock.png" alt="Vulnerable VPN" class="icon-img" /></span>
                <span class="arrow">→</span>
                <span class="node"><img src="./assets/images/server.png" alt="IT Systems" class="icon-img" /></span>
                <span class="arrow">→</span>
                <span class="node"><img src="./assets/images/controller.png" alt="Industrial Controllers" class="icon-img" /></span>
                <span class="arrow">→</span>
                <span class="node"><img src="./assets/images/pipeline-stop.png" alt="Pipeline Shutdown" class="icon-img" /></span>
            </div>

            <div class="pipeline-demo">
 <div class="vpn-login" style="display:none;">
  <div class="login-line">🔑 Attacker logs in with stolen VPN credentials</div>
  <div class="login-creds">👤 Username: <span id="username-text"></span></div>
  <div class="login-creds">🔒 Password: <span id="password-text"></span></div>
</div>

<div class="infection-spread" style="display:none;">
  <div class="infection-line">🖥️ Server <strong>Infected</strong></div>
  <div class="infection-line">💻 Workstation <strong>Infected</strong></div>
</div>

<div class="scada-compromise" style="display:none;">
  <div class="scada-line">Pump Control Panel</div>
  <div class="scada-line alert">🚨 <strong>Alarm Active!</strong></div>
</div>

<div class="pipeline-shutdown" style="display:none;">
  <div class="shutdown-line">🚫 <strong>Pipeline Stopped</strong></div>
  <div class="shutdown-line">System <em>Shutdown</em></div>
</div>
</div>


            <button onclick="runPipelineAttack('attack-pipeline', this)">Start Attack Demo</button>

            <div class="comment-box"></div>
            <div id="full-comment-pipeline" class="full-comment" style="display:none;">
                <p>In 2021, a ransomware attack targeted a major U.S. pipeline operator. Attackers gained access using stolen VPN credentials and halted pipeline operations.<br><br>
<strong>Damage:</strong> Fuel shortages, supply chain disruption, and financial losses.<br>
<strong>Mitigation:</strong> Enforce VPN hardening, monitor network access, and segment critical systems.
</p>
            </div>
        </div>

        <!-- GPS Spoofing -->
        <div class="attack-visual" id="attack-gps">
            <h4>📡 GPS Spoofing – Scandinavia & Baltics (2023)</h4>
            <div class="chain">
                <span class="node"><img src="./assets/images/satelite.png" alt="GPS Satellite" class="icon-img" /></span>
                <span class="arrow">→</span>
                <span class="node"><img src="./assets/images/signal-jammer.jpeg" alt="Signal Jammer" class="icon-img" /></span>
                <span class="arrow">→</span>
                <span class="node"><img src="./assets/images/plane-ship.png" alt="Aviation & Ships" class="icon-img" /></span>
                <span class="arrow">→</span>
                <span class="node"><img src="./assets/images/nav-error.png" alt="Navigation Failure" class="icon-img" /></span>
            </div>

<div class="gps-demo">
  <div class="gps-signal" style="display:none;">
    <div class="signal-line-item">🛰️ Satellite sending accurate GPS signal...</div>
  </div>

  <div class="spoofing-device" style="display:none;">
    <div class="signal-line-item">📡 Spoofing device jamming signal...</div>
    <div class="signal-line-item">🛰️ Fake location injected</div>
  </div>

  <div class="spoofed-location" style="display:none;">
    <div class="vehicle-location">✈️ Aircraft location spoofed to <span class="coords">Lat: 54.000, Lon: 19.000</span></div>
    <div class="vehicle-location">🚢 Ship location spoofed to <span class="coords">Lat: 54.001, Lon: 19.001</span></div>
  </div>

  <div class="nav-error" style="display:none;">
    <div class="warning-item">⚠️ Aircraft off-course! Danger ahead!</div>
    <div class="warning-item">⚠️ Ship veering toward restricted zone!</div>
  </div>
</div>


            <button onclick="runGPSAttack('attack-gps', this)">Start Attack Demo</button>

            <div class="comment-box"></div>
            <div id="full-comment-gps" class="full-comment" style="display:none;">
                <p>In 2023, GPS spoofing incidents disrupted aircraft and ship navigation across Scandinavia and the Baltics. Fake signals misled onboard systems into reporting false positions.<br><br>
<strong>Damage:</strong> Navigation errors, safety risks, and operational delays.<br>
<strong>Mitigation:</strong> Use signal authentication, cross-check location sources, and deploy anomaly detection systems.
</p>
            </div>
        </div>
</section>

  <section id="eu-regulations">
    <h2>3. EU Regulations Timeline</h2>
    <div id="timeline"></div>
    <div id="timeline-info"><em>Select an event from the timeline to view details here.</em></div>
  </section>

  <!-- VIS.js libraries -->
  <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
  <script src="https://unpkg.com/vis-timeline/standalone/umd/vis-timeline-graph2d.min.js"></script>

  <!-- VIS Graph Logic -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // 1. Site Structure Network
      const structureNetwork = new vis.Network(
        document.getElementById("site-structure-network"),
        {
          nodes: new vis.DataSet([
            { id: 1, label: "Home" },
            { id: 2, label: "System Categories" },
            { id: 3, label: "Attacks" },
            { id: 4, label: "EU Regulations" },
            { id: 5, label: "Analytics" }
          ]),
          edges: new vis.DataSet([
            { from: 1, to: 2 },
            { from: 1, to: 3 },
            { from: 1, to: 4 },
            { from: 1, to: 5 }
          ])
        },
        {
          nodes: {
            color: { background: "#ecf0f1", border: "#3498db", highlight: "#2980b9" },
            font: { color: "#2c3e50", size: 16 }
          },
          edges: {
            color: "#bdc3c7",
            arrows: "to"
          },
          interaction: { hover: true }
        }
      );

      structureNetwork.on("click", params => {
        const sectionMap = {
          1: "header",
          2: "system-categories",
          3: "attacks",
          4: "eu-regulations",
          5: "analytics"
        };
        if (params.nodes.length) {
          const targetId = sectionMap[params.nodes[0]];
          const el = document.getElementById(targetId);
          if (el) el.scrollIntoView({ behavior: "smooth" });
        }
      });

      // 2. System Categories Network
      const systemCategoriesNetwork = new vis.Network(
        document.getElementById("category-network"),
        {
          nodes: new vis.DataSet([
            { id: "IT", label: "IT", title: "Information Technology" },
            { id: "OT", label: "OT", title: "Operational Technology" },
            { id: "CT", label: "CT", title: "Communication Technology" }
          ]),
          edges: new vis.DataSet([
            { from: "IT", to: "OT" },
            { from: "OT", to: "CT" },
            { from: "CT", to: "IT" }
          ])
        },
        {
          nodes: {
            color: { background: "#dfe6e9", border: "#636e72", highlight: "#2d3436" },
            font: { size: 14, color: "#2c3e50" }
          },
          edges: { smooth: true, color: "#b2bec3" },
          interaction: { hover: true }
        }
      );

      const descriptions = {
        IT: `<h3>Information Technology (IT)</h3><p>Manages digital services, databases, and enterprise platforms.</p><p><strong>Example attacks:</strong> phishing, database breaches, malware.</p>`,
        OT: `<h3>Operational Technology (OT)</h3><p>Controls physical operations such as SCADA or industrial devices.</p><p><strong>Example attacks:</strong> controller hijacking, network infiltration.</p>`,
        CT: `<h3>Communication Technology (CT)</h3><p>Enables communication such as GPS, satellite, and wireless networks.</p><p><strong>Example attacks:</strong> signal jamming, spoofing, denial of service.</p>`
      };

      const infoBox = document.getElementById("category-info");
      systemCategoriesNetwork.on("click", params => {
        if (params.nodes.length) {
          const id = params.nodes[0];
          infoBox.innerHTML = descriptions[id] || "<p>No data available.</p>";
        }
      });
});

  </script>
</body>
</html>