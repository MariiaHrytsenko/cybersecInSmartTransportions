<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cyber Attack Visual Scenarios</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      margin: 0;
      background-color: #f4f6f8;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #2c3e50;
      margin-bottom: 30px;
    }
    .tab-container {
      max-width: 900px;
      margin: 0 auto;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      padding: 50px;
      box-sizing: border-box;
    }
    .tabs {
      display: flex;
      flex-wrap: wrap;
      background: #3498db;
      border-radius: 8px 8px 0 0;
      overflow: hidden;
    }
    .tabs button {
      flex: 1;
      background: #3498db;
      color: #fff;
      padding: 15px;
      border: none;
      cursor: pointer;
      transition: background 0.3s;
      font-size: 16px;
    }
    .tabs button:hover,
    .tabs button.active {
      background: #2980b9;
    }
    .tab-content {
      display: none;
      padding: 20px 0 0 0;
      animation: fadeIn 0.5s ease-in-out;
    }
    .tab-content.active {
      display: block;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .attack-title {
      font-size: 24px;
      font-weight: 700;
      color: #2c3e50;
      margin-bottom: 8px;
    }
    .source-link {
      font-style: italic;
      color: #555;
      margin-bottom: 15px;
      user-select: text;
    }
    .attack-description {
      margin-bottom: 20px;
      font-size: 16px;
      line-height: 1.4;
      color: #444;
    }
    .attack-visual {
      border: 2px solid #3498db;
      border-radius: 8px;
      padding: 20px;
      min-height: 180px;
      background-color: #eaf1f8;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      position: relative;
      overflow: hidden;
      font-size: 14px;
      color: #2c3e50;
    }
    .schema-step {
      text-align: center;
      min-width: 120px;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .schema-step.visible {
      opacity: 1;
      transform: translateY(0);
    }
    .schema-step img {
      width: 80px;
      height: auto;
      margin-bottom: 6px;
      user-select: none;
    }
    .arrow {
      font-size: 24px;
      user-select: none;
      align-self: center;
      margin: 0 5px;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .arrow.visible {
      opacity: 1;
      transform: translateY(0);
    }
    .result {
      font-size: 20px;
      color: #e74c3c;
      font-weight: 700;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .result.visible {
      opacity: 1;
      transform: translateY(0);
    }
    button.run-btn {
      background-color: #2980b9;
      color: white;
      border: none;
      padding: 10px 18px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      user-select: none;
      transition: background-color 0.3s;
    }
    button.run-btn:hover {
      background-color: #1f6391;
    }
  </style>
</head>
<body>
  <h1>Cyber Threats to Transport Companies</h1>
  <div class="tab-container">
    <div class="tabs">
      <button class="tab-link active" onclick="openTab(event, 'false-data')">False Data Injection</button>
      <button class="tab-link" onclick="openTab(event, 'sybil')">Sybil Attack</button>
      <button class="tab-link" onclick="openTab(event, 'phishing')">Phishing</button>
      <button class="tab-link" onclick="openTab(event, 'gps')">GPS Spoofing</button>
    </div>

    <div id="false-data" class="tab-content active">
      <div class="attack-title">False Data Injection</div>
      <div class="source-link">Source: <a href="#">[Insert source URL here]</a></div>
      <div class="attack-description">False data is injected into the V2X network, tricking vehicles into reacting unnecessarily to non-existent obstacles, causing unsafe rerouting.</div>
      <div class="attack-visual" id="false-data-visual"></div>
      <button class="run-btn" onclick="runAttack('false-data')">Run Attack</button>
    </div>

    <div id="sybil" class="tab-content">
      <div class="attack-title">Sybil Attack</div>
      <div class="source-link">Source: <a href="#">[Insert source URL here]</a></div>
      <div class="attack-description">An attacker creates multiple fake vehicle identities causing the traffic system to believe there is congestion, which forces route rerouting.</div>
      <div class="attack-visual" id="sybil-visual"></div>
      <button class="run-btn" onclick="runAttack('sybil')">Run Attack</button>
    </div>

    <div id="phishing" class="tab-content">
      <div class="attack-title">Phishing</div>
      <div class="source-link">Source: <a href="#">[Insert source URL here]</a></div>
      <div class="attack-description">Users scan a malicious QR code leading to a fake website designed to steal login credentials.</div>
      <div class="attack-visual" id="phishing-visual"></div>
      <button class="run-btn" onclick="runAttack('phishing')">Run Attack</button>
    </div>

    <div id="gps" class="tab-content">
      <div class="attack-title">GPS Spoofing</div>
      <div class="source-link">Source: <a href="#">[Insert source URL here]</a></div>
      <div class="attack-description">Fake GPS signals are injected causing vehicles to receive incorrect location data and divert from their correct course.</div>
      <div class="attack-visual" id="gps-visual"></div>
      <button class="run-btn" onclick="runAttack('gps')">Run Attack</button>
    </div>
  </div>

  <script>
    function openTab(evt, tabName) {
      document.querySelectorAll('.tab-content').forEach(tc => tc.classList.remove('active'));
      document.querySelectorAll('.tab-link').forEach(btn => btn.classList.remove('active'));
      document.getElementById(tabName).classList.add('active');
      evt.currentTarget.classList.add('active');
    }

    const attacksData = {
      "false-data": [
        { type: "step", img: "ai-system.png", text: "🚧 Obstacle Ahead!" },
        { type: "arrow" },
        { type: "step", img: "v2x.png", text: "Injected into V2X Network" },
        { type: "arrow" },
        { type: "step", img: "car-reaction.png", text: "Vehicle Makes Unjustified Maneuver" },
        { type: "arrow" },
        { type: "result", text: "❗ Unsafe Rerouting" }
      ],
      "sybil": [
        { type: "step", img: "sybil-hacker.png", text: "Attacker" },
        { type: "arrow" },
        { type: "step", img: "multiple-cars.png", text: "Fake Identities as Vehicles" },
        { type: "arrow" },
        { type: "step", img: "traffic-map.png", text: "System Believes Traffic Congestion" },
        { type: "arrow" },
        { type: "result", text: "❗ Route Rerouted" }
      ],
      "phishing": [
        { type: "step", img: "phone-scan.png", text: "User Scans the Malicious QR Code" },
        { type: "arrow" },
        { type: "step", img: "fake-website.png", text: "Redirecting to fake login page" },
        { type: "arrow" },
        { type: "step", animatedText: ["Passport No: AB1234567", "Address: 123 Main St, City", "Date of Birth: 01/01/1980"], text: "Entering stolen credentials..." },
        { type: "result", text: "❗ Credentials Stolen" }
      ],
      "gps": [
        { type: "step", img: "gps-hacker.png", text: "Attacker" },
        { type: "arrow" },
        { type: "step", img: "satellite.png", text: "Intercepted Satellite Signal" },
        { type: "arrow" },
        { type: "step", text: "Original: 34.0522, -118.2437", strike: true, strikeReplace: "Injected: 51.5074, -0.1278" },
        { type: "arrow" },
        { type: "step", img: "ship-plane.png", text: "Vehicle Receives Fake GPS Signal" },
        { type: "arrow" },
        { type: "result", text: "❗ Diverted Course" }
      ]
    };

    function createStepElement(step) {
      if (step.type === "arrow") {
        const arrow = document.createElement("div");
        arrow.className = "arrow";
        arrow.textContent = "➡️";
        return arrow;
      } else if (step.type === "result") {
        const result = document.createElement("div");
        result.className = "result";
        result.textContent = step.text;
        return result;
      } else {
        const div = document.createElement("div");
        div.className = "schema-step";

        if (step.img) {
          const img = document.createElement("img");
          img.src = step.img;
          img.alt = step.text;
          div.appendChild(img);
        }

        if (step.animatedText) {
          const container = document.createElement("div");
          container.style.fontFamily = "monospace";
          container.style.textAlign = "left";
          container.style.maxWidth = "200px";
          container.style.marginTop = "10px";
          div.appendChild(container);
          div.animateText = async () => {
            for (const line of step.animatedText) {
              for (let i = 1; i <= line.length; i++) {
                container.textContent = line.slice(0, i);
                await new Promise(r => setTimeout(r, 50));
              }
              container.appendChild(document.createElement("br"));
              await new Promise(r => setTimeout(r, 300));
            }
          };
        } else if (step.strike) {
          const span = document.createElement("span");
          span.style.textDecoration = "line-through";
          span.textContent = step.text;
          div.appendChild(span);
          div.appendChild(document.createElement("br"));
          const newSpan = document.createElement("span");
          newSpan.style.color = "#e74c3c";
          newSpan.textContent = step.strikeReplace;
          div.appendChild(newSpan);
        } else {
          const p = document.createElement("p");
          p.textContent = step.text;
          div.appendChild(p);
        }

        return div;
      }
    }

    function resetVisual(container) {
      container.innerHTML = "";
    }

    async function runAttack(attackKey) {
      const container = document.getElementById(attackKey + "-visual");
      resetVisual(container);
      const steps = attacksData[attackKey];
      for (let i = 0; i < steps.length; i++) {
        const el = createStepElement(steps[i]);
        container.appendChild(el);
        await new Promise(resolve => setTimeout(resolve, 1000));
        el.classList.add("visible");
        if (el.animateText) await el.animateText();
      }
    }
  </script>
</body>
</html>
